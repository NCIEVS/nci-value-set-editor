<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Edit Component Set</title>
</head>
<body>
  <ui:composition template="/pages/templates/popupTemplate.xhtml">
  <script type="text/javascript">
    window.resizeTo(700,420);
    function closePopup() {
    	window.opener.location.href = "${facesContext.externalContext.requestContextPath}/pages/editValueSet.xhtml";
        window.close();
    }
  </script>
  <font size="4"><b>Component Set</b></font><br/>
  <h:form id="f1">
    <table border="0">
      <tr>
        <td align="right">
          <h:outputLabel for="compLabel" value="Label:" />
        </td>
        <td align="left">
          <h:inputText id="compLabel" value="#{ComponentBean.label}" width="300"/>
        </td>
      </tr>
      <tr>
        <td align="right">
          <h:outputLabel for="compDescription" value="Description:" />
        </td>
        <td align="left">
          <h:inputText id="compDescription" value="#{ComponentBean.description}" width="300"/>
        </td>
      </tr>
      <tr>
        <td align="right">
          <h:outputLabel for="compVocab" value="Vocabulary:" />
        </td>
        <td align="left">
			<h:selectOneMenu id="compVocab" value="#{ComponentBean.selectedOntology}">
			  <c:forEach var="v" items="${ComponentBean.ontologyList}">
			     <f:selectItem itemLabel="#{v.value}" itemValue="#{v.key}" />
			  </c:forEach>
			</h:selectOneMenu>
        </td>
      </tr>
      <tr>
        <td align="right">
          <h:outputLabel for="compType" value="Type:" />
        </td>
        <td align="left">
            <h:selectOneRadio id="compType" value="#{ComponentBean.type}" layout="lineDirection">               
                  <f:selectItem itemValue="code" itemLabel="Code" />
                  <f:selectItem itemValue="name" itemLabel="Name" />
                  <f:selectItem itemValue="prop" itemLabel="Property" />
                  <f:selectItem itemValue="rel" itemLabel="Relationship" />
                  <f:selectItem itemValue="enum" itemLabel="Enumeration of Codes" />
                  <f:selectItem itemValue="entire" itemLabel="Entire Vocabulary" />
            </h:selectOneRadio>
        </td>
      </tr>
      <tr>
        <td align="right">
          <h:outputLabel for="matchText" value="Match Text" />
        </td>
        <td align="left">
          <h:inputText id="matchText" value="#{ComponentBean.matchText}" width="300"/>
        </td>
      </tr>
      <tr>
        <td align="right">
          <h:outputLabel for="algo" value="Match Algorithm:" />
        </td>
        <td align="left">
            <h:selectOneRadio id="algo" value="#{ComponentBean.algo}" layout="lineDirection">               
                  <f:selectItem itemValue="exact" itemLabel="Exact Match" />
                  <f:selectItem itemValue="begins" itemLabel="Begins With" />
                  <f:selectItem itemValue="contains" itemLabel="Contains" />
            </h:selectOneRadio>
        </td>
      </tr>                    
    </table>
    <hr />
    <div class="inputMessage"><h:outputText value="#{ComponentBean.message}&#xA0;" /></div>
    <h:commandButton value="Preview" action="#{ComponentBean.previewComponentAction}"
      onclick="javascript:cursor_wait();"
      image="#{requestContextPath}/images/preview.gif"
      alt="Save" />
    &#xA0;
    <h:commandButton value="Save" action="#{ComponentBean.saveComponentAction}"
      onclick="javascript:cursor_wait();"
      image="#{requestContextPath}/images/save.gif"
      alt="Save" />
    &#xA0;    
    <h:outputLink value="javascript:closePopup();">
      <h:graphicImage value="../images/close.gif" alt="Close window" title="Close window" style="border: none" />
    </h:outputLink>
    </h:form>
  </ui:composition>
  <ui:debug />
</body>
</html>